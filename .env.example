# Jambolush Environment Configuration Example
# Copy this file to .env and fill in your actual values

# Server Configuration
PORT=5000
NODE_ENV=development

# Database
DATABASE_URL="postgresql://user:password@localhost:5432/jambolush?schema=public"

# JWT Secret
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Encryption
ENCRYPTION_KEY=your-encryption-key-min-32-characters-change-in-production

# Client URL
CLIENT_URL=https://jambolush.com

# Company Information
SUPPORT_EMAIL=support@jambolush.com
COMPANY_PHONE=+250788437347

# ============================================
# BREVO EMAIL CONFIGURATION
# ============================================
BREVO_API_KEY=your_brevo_api_key_here
BREVO_SENDER_EMAIL=noreply@jambolush.com
EMAIL_FROM_NAME=Jambolush

# ============================================
# BREVO WHATSAPP CONFIGURATION
# ============================================
# Main Configuration
BREVO_WHATSAPP_API_KEY=your_brevo_api_key_here
BREVO_WHATSAPP_SENDER_NUMBER=+250XXXXXXXXX  # Your WhatsApp Business number in international format

# Enable/Disable WhatsApp Notifications (default: true)
WHATSAPP_NOTIFICATIONS_ENABLED=true

# --------------------------------------------
# WhatsApp Template IDs
# Get these from: Brevo Dashboard → Campaigns → WhatsApp → Templates
# --------------------------------------------

# Withdrawal & Transaction Templates
BREVO_WHATSAPP_WITHDRAWAL_OTP_TEMPLATE_ID=123456789
BREVO_WHATSAPP_TRANSACTION_STATUS_TEMPLATE_ID=123456790

# Authentication Templates
BREVO_WHATSAPP_WELCOME_TEMPLATE_ID=123456791
BREVO_WHATSAPP_PHONE_VERIFICATION_TEMPLATE_ID=123456792
BREVO_WHATSAPP_PASSWORD_RESET_TEMPLATE_ID=123456793
BREVO_WHATSAPP_PASSWORD_CHANGED_TEMPLATE_ID=123456794
BREVO_WHATSAPP_LOGIN_NOTIFICATION_TEMPLATE_ID=123456795
BREVO_WHATSAPP_SUSPICIOUS_ACTIVITY_TEMPLATE_ID=123456796
BREVO_WHATSAPP_ACCOUNT_STATUS_TEMPLATE_ID=123456797
BREVO_WHATSAPP_TWO_FACTOR_TEMPLATE_ID=123456798
BREVO_WHATSAPP_KYC_STATUS_TEMPLATE_ID=123456799

# General Templates
BREVO_WHATSAPP_NOTIFICATION_TEMPLATE_ID=123456800
BREVO_WHATSAPP_BOOKING_CONFIRMATION_TEMPLATE_ID=123456801
BREVO_WHATSAPP_GENERAL_TEMPLATE_ID=123456802

# ============================================
# PAYMENT GATEWAY CONFIGURATION
# ============================================

# XentriPay (Mobile Money - Rwanda)
XENTRIPAY_API_KEY=your_xentripay_api_key
XENTRIPAY_BASE_URL=https://test.xentripay.com
XENTRIPAY_WEBHOOK_SECRET=your_webhook_secret
XENTRIPAY_CALLBACK_URL=https://yourdomain.com/api/xentripay/callback
XENTRIPAY_MERCHANT_ACCOUNT=your_merchant_account
XENTRIPAY_TIMEOUT=30000

# PawaPay (Mobile Money - Pan-African)
PAWAPAY_API_KEY=your_pawapay_api_key
PAWAPAY_BASE_URL=https://api.sandbox.pawapay.io/v2
PAWAPAY_ENVIRONMENT=sandbox
PAWAPAY_WEBHOOK_SECRET=your_webhook_secret
PAWAPAY_CALLBACK_URL=https://yourdomain.com/api/pawapay/callback
PAWAPAY_TIMEOUT=30000
PAWAPAY_ENABLE_BULK_PAYOUTS=true
PAWAPAY_BULK_BATCH_SIZE=100
PAWAPAY_RETRY_ATTEMPTS=3
PAWAPAY_RETRY_DELAY=5000

# ============================================
# OAUTH CONFIGURATION
# ============================================
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
APPLE_CLIENT_ID=your.apple.client.id

# ============================================
# PAYMENT LIMITS & FEES
# ============================================

# Daily Limits (RWF)
DAILY_DEPOSIT_LIMIT=500000
DAILY_WITHDRAWAL_LIMIT=200000
DAILY_TRANSFER_LIMIT=300000

# Monthly Limits (RWF)
MONTHLY_DEPOSIT_LIMIT=5000000
MONTHLY_WITHDRAWAL_LIMIT=2000000
MONTHLY_TRANSFER_LIMIT=3000000

# Transaction Limits (RWF)
MIN_DEPOSIT_AMOUNT=100
MAX_DEPOSIT_AMOUNT=1000000
MIN_WITHDRAWAL_AMOUNT=500
MAX_WITHDRAWAL_AMOUNT=500000
MIN_TRANSFER_AMOUNT=100
MAX_TRANSFER_AMOUNT=500000

# ============================================
# REVENUE SPLIT CONFIGURATION
# ============================================

# Property Booking Split
DEFAULT_HOST_SPLIT=78.95
DEFAULT_AGENT_SPLIT=4.39
DEFAULT_PLATFORM_SPLIT=16.67

# Tour Booking Split
TOUR_GUIDE_SPLIT=84
TOUR_PLATFORM_SPLIT=16

# ============================================
# CURRENCY CONFIGURATION
# ============================================
SUPPORTED_CURRENCIES=RWF,USD,UGX,TZS,KES

# ============================================
# SECURITY CONFIGURATION
# ============================================

# Session
SESSION_SECRET=your-session-secret-change-in-production

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
WEBHOOK_RATE_LIMIT_WINDOW_MS=60000
WEBHOOK_RATE_LIMIT_MAX_REQUESTS=100

# IP Security
TRUSTED_IPS=127.0.0.1,::1
BLOCK_SUSPICIOUS_IPS=false

# Admin Users (comma-separated user IDs)
ADMIN_USER_IDS=1

# CORS
CORS_ORIGINS=https://jambolush.com,https://app.jambolush.com
CORS_CREDENTIALS=true

# ============================================
# WEBHOOK CONFIGURATION
# ============================================
WEBHOOK_TIMEOUT=30000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_VERIFY_SIGNATURES=true
LOG_WEBHOOKS=true

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_MOBILE_MONEY=true
ENABLE_BANK_TRANSFERS=true
ENABLE_CARD_PAYMENTS=false
ENABLE_MULTI_CURRENCY=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_MOBILE_APP=false
ENABLE_WEBHOOK_LOGS=true
ENABLE_API_DOCS=true

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=info
ENABLE_PAYMENT_LOGS=true
ENABLE_WEBHOOK_LOGS=true
LOG_SENSITIVE_DATA=false
LOG_TO_FILE=false
LOG_PATH=./logs
MAX_LOG_FILES=14
MAX_LOG_SIZE=20m
ENABLE_STRUCTURED_LOGS=false
LOG_FORMAT=combined

# ============================================
# BACKGROUND JOBS (Optional)
# ============================================
REDIS_URL=redis://localhost:6379
JOB_CONCURRENCY=5

# Job Schedules (cron format)
NOTIFICATION_RETRY_SCHEDULE=0 */5 * * * *
WEBHOOK_RETRY_SCHEDULE=0 */2 * * * *
ANALYTICS_UPDATE_SCHEDULE=0 0 1 * * *

# ============================================
# ANALYTICS (Optional)
# ============================================
ANALYTICS_RETENTION_DAYS=90
GOOGLE_ANALYTICS_ID=
MIXPANEL_TOKEN=
TRACK_USER_BEHAVIOR=false
TRACK_PAYMENT_METHODS=true
CALCULATE_CONVERSION_RATES=true
TRACK_REVENUE_METRICS=true

# ============================================
# REGIONAL SETTINGS
# ============================================
DEFAULT_TIMEZONE=Africa/Kigali
DEFAULT_LOCALE=en-RW
SUPPORTED_LOCALES=en-RW,rw-RW,en-KE,sw-KE,en-UG,en-TZ

# Compliance
RWANDA_COMPLIANCE=true
KENYA_COMPLIANCE=false
UGANDA_COMPLIANCE=false
TANZANIA_COMPLIANCE=false

# Data Residency
DATA_RESIDENCY=africa-east
REQUIRE_LOCAL_DATA_STORAGE=false

# Business Hours
BUSINESS_HOURS_START=08:00
BUSINESS_HOURS_END=18:00
WORKING_DAYS=MON,TUE,WED,THU,FRI

# ============================================
# FILE UPLOAD (For KYC Documents)
# ============================================
MAX_FILE_SIZE=10485760
ALLOWED_MIME_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/plain
UPLOAD_PATH=./uploads
CLOUD_PROVIDER=local

# Cloudinary (if using)
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=
CLOUDINARY_FOLDER=jambolush

# ============================================
# PUSH NOTIFICATIONS (Optional)
# ============================================
FCM_SERVER_KEY=
PUSH_NOTIFICATIONS_ENABLED=false

# ============================================
# LEGACY SMS CONFIGURATION (Deprecated)
# ============================================
# Note: SMS has been replaced with WhatsApp
# Keep these for backward compatibility if needed
BREVO_SMS_API_KEY=your_brevo_api_key_here
SMS_PROVIDER=brevo_whatsapp
SMS_USERNAME=jambolush
SMS_FROM=JAMBOLUSH
SMS_NOTIFICATIONS_ENABLED=false
