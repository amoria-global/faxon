# ==============================================
# APPLICATION CONFIGURATION
# ==============================================
NODE_ENV=development
PORT=5000
BASE_URL=http://localhost:5000
FRONTEND_URL=http://localhost:3000
CORS_ORIGINS=http://localhost:3001,http://localhost:3000,http://localhost:8080

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
# Connect to Supabase via connection pooling (WORKING - DO NOT CHANGE)
DATABASE_URL="postgresql://postgres.ftihjzudufdjjabnpaqv:Amoria@2025@aws-1-eu-north-1.pooler.supabase.com:6543/postgres?pgbouncer=true"

# Direct connection to the database. Used for migrations (WORKING - DO NOT CHANGE)
DIRECT_URL="postgresql://postgres.ftihjzudufdjjabnpaqv:Amoria@2025@aws-1-eu-north-1.pooler.supabase.com:5432/postgres"

# ==============================================
# SECURITY CONFIGURATION
# ==============================================
# JWT Configuration (WORKING - DO NOT CHANGE)
JWT_SECRET="ec07c6277623b1a798f2876399765ae4d465451d94bd45de7913a7eee785e0f7f0d466ff4cbdf916243317795ce34c57c907e0db57b197050abaa861499852c6"
JWT_EXPIRES_IN="24h"
JWT_EXPIRATION="7d"

# Security Settings
BCRYPT_ROUNDS=12
SESSION_TIMEOUT_MINUTES=60

# ==============================================
# GOOGLE OAUTH CONFIGURATION (WORKING)
# ==============================================
GOOGLE_CLIENT_ID=739960680632-g75378et3hgeu5qmukdqp8085369gh1t.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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
GOOGLE_REDIRECT_URI=http://localhost:3000/api/auth/google/callback

# ==============================================
# APPLE OAUTH CONFIGURATION
# ==============================================
APPLE_CLIENT_ID=com.jambolush.signin
APPLE_TEAM_ID=your-apple-team-id
APPLE_KEY_ID=your-apple-key-id
APPLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_APPLE_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----"
APPLE_REDIRECT_URI=http://localhost:3000/api/auth/apple/callback

# ==============================================
# EMAIL CONFIGURATION (WORKING - DO NOT CHANGE)
# ==============================================
FROM_EMAIL=noreply@jambolush.com
EMAIL_PROVIDER=smtp

# SMTP Configuration (WORKING)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=admin@amoriaglobal.com
SMTP_PASS=Amoria@2025
SMTP_FROM=noreply@jambolush.com

# Alternative Email Providers
# SENDGRID_API_KEY=your-sendgrid-api-key
# GMAIL_USER=your-gmail@gmail.com
# GMAIL_APP_PASSWORD=your-gmail-app-password

# ==============================================
# PESAPAL CONFIGURATION (NEW PAYMENT PROCESSOR)
# ==============================================
# PESAPAL_CONSUMER_KEY=aLjPIxBzaDZvrKx7V9vmQwBlkGdTvHHu
# PESAPAL_CONSUMER_SECRET=gvXN7LwAxWl9EC6pcXVC/Oa7gJc=
# PESAPAL_BASE_URL=https://pay.pesapal.com/v3  # Production
PESAPAL_BASE_URL="https://cybqa.pesapal.com/pesapalv3/api"
PESAPAL_CONSUMER_KEY="wCGzX1fNzvtI5lMR5M4AxvxBmLpFgZzp"
PESAPAL_CONSUMER_SECRET="uU7R9g2IHn9dkrKDVIfcPppktIo="

# ==============================================
# ESCROW API CONFIGURATION (WORKING)
# ==============================================
ESCROW_BASE_URL=https://api.escrowpayments.com
ESCROW_API_KEY=18152_NtW5ZJKKizke3tahVVDwFRrhhs1A1u0Jb4JNCSgMWzT0hAq6kfbJQ3Kjqt86nEe3
ESCROW_SECRET_KEY=18152_NtW5ZJKKizke3tahVVDwFRrhhs1A1u0Jb4JNCSgMWzT0hAq6kfbJQ3Kjqt86nEe3
ESCROW_MERCHANT_ID=3788505
ESCROW_ENVIRONMENT=sandbox
ESCROW_CALLBACK_URL=https://jambolush.com/api/payments/callback/escrow
ESCROW_WEBHOOK_SECRET=your-escrow-webhook-secret

# Escrow Settings
ESCROW_DEFAULT_CURRENCY=USD
ESCROW_SUPPORTED_CURRENCIES=USD,RWF,KES
ESCROW_MAX_TRANSACTION_AMOUNT=30000000
ESCROW_MIN_TRANSACTION_AMOUNT=1
ESCROW_DEFAULT_DISPUTE_DEADLINE_DAYS=30
ESCROW_MAX_HOLDING_DAYS=365

# Escrow Fee Configuration
ESCROW_DEPOSIT_FEE=2.5
ESCROW_P2P_FEE=1.5
ESCROW_DISPUTE_FEE=25
ESCROW_EXPEDITED_FEE=10
ESCROW_CANCELLATION_FEE=5

# ==============================================
# COMPANY INFORMATION
# ==============================================
COMPANY_NAME=Jambolush
COMPANY_WEBSITE=https://jambolush.com
COMPANY_SUPPORT_EMAIL=support@jambolush.com
COMPANY_LOGO=https://jambolush.com/favicon.ico
COMPANY_ADDRESS=Kigali, Rwanda

# ==============================================
# PAYMENT CONFIGURATION
# ==============================================
# Platform Split Configuration
DEFAULT_HOST_SPLIT=70
DEFAULT_AGENT_SPLIT=20
DEFAULT_PLATFORM_SPLIT=10

# Transaction Limits
MIN_DEPOSIT_AMOUNT=100
MAX_DEPOSIT_AMOUNT=10000000
MIN_WITHDRAWAL_AMOUNT=500
MAX_WITHDRAWAL_AMOUNT=5000000
DAILY_TRANSACTION_LIMIT=1000000
MONTHLY_TRANSACTION_LIMIT=10000000
MAX_TRANSACTIONS_PER_DAY=50
MAX_TRANSACTIONS_PER_MONTH=500

# Currency Configuration
DEFAULT_CURRENCY=USD
SUPPORTED_CURRENCIES=USD,RWF,KES
EXCHANGE_RATE_API_KEY=your-exchange-rate-api-key

# ==============================================
# RATE LIMITING CONFIGURATION
# ==============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
ESCROW_RATE_LIMIT_MAX_REQUESTS=20
WEBHOOK_RATE_LIMIT_MAX_REQUESTS=100
ESCROW_RATE_LIMIT_PER_MINUTE=10
ESCROW_RATE_LIMIT_PER_HOUR=100
ESCROW_MAX_CONCURRENT=50

# ==============================================
# WEBHOOK SECURITY
# ==============================================
WEBHOOK_IP_WHITELIST=
ESCROW_WEBHOOK_IP_WHITELIST=
ESCROW_IP_WHITELIST=
ENABLE_WEBHOOK_VALIDATION=true

# ==============================================
# FILE UPLOAD CONFIGURATION
# ==============================================
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,image/gif,application/pdf,text/plain
ALLOWED_MIME_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/plain
UPLOAD_PATH=./uploads
CLOUD_PROVIDER=local

# AWS S3 Configuration (if using AWS)
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-s3-bucket-name

# ==============================================
# NOTIFICATION SERVICES
# ==============================================
# SMS Configuration
SMS_PROVIDER=twilio
SMS_ACCOUNT_SID=your-twilio-account-sid
SMS_AUTH_TOKEN=your-twilio-auth-token
SMS_FROM_NUMBER=+1234567890

# Push Notification Configuration
FCM_SERVER_KEY=your-fcm-server-key
APNS_KEY_ID=your-apns-key-id
APNS_TEAM_ID=your-apns-team-id

# ==============================================
# BACKGROUND JOBS (Redis Configuration)
# ==============================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password
ENABLE_ESCROW_JOBS=true
JOB_CONCURRENCY=5

# Job Schedules (Cron format)
AUTO_RELEASE_CHECK_SCHEDULE=0 */10 * * * *
DISPUTE_DEADLINE_CHECK_SCHEDULE=0 0 */6 * * *
ESCROW_EXPIRY_CHECK_SCHEDULE=0 0 0 * * *
NOTIFICATION_RETRY_SCHEDULE=0 */5 * * * *

# ==============================================
# ADMIN CONFIGURATION
# ==============================================
ADMIN_USER_IDS=1,2,3

# ==============================================
# FEATURE FLAGS
# ==============================================
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=false
ENABLE_RATE_LIMITING=true
ENABLE_IP_WHITELISTING=false
ENABLE_WEBHOOK_VALIDATION=true
ENABLE_ESCROW_PAYMENTS=true
ENABLE_P2P_ESCROW=true
ENABLE_ESCROW_TEMPLATES=false
ENABLE_BULK_ESCROW=false
ENABLE_ESCROW_ANALYTICS=true
ENABLE_SMART_CONTRACTS=false
ENABLE_MULTI_CURRENCY=true
ENABLE_MOBILE_APP=false
ENABLE_CORS=true

# ==============================================
# ANALYTICS AND MONITORING
# ==============================================
ENABLE_ESCROW_ANALYTICS=true
ANALYTICS_RETENTION_DAYS=90
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
MIXPANEL_TOKEN=your-mixpanel-token
SENTRY_DSN=your-sentry-dsn

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true
ENABLE_ESCROW_LOGS=true
ENABLE_PAYMENT_LOGS=true
LOG_WEBHOOKS=true
LOG_SENSITIVE_DATA=false

# ==============================================
# API CONFIGURATION
# ==============================================
API_DEPRECATION_NOTICE=false
MAINTENANCE_MODE=false
ENABLE_SWAGGER=true

# ==============================================
# DEVELOPMENT CONFIGURATION
# ==============================================
DEBUG_MODE=true
MOCK_EXTERNAL_APIS=false
SKIP_EMAIL_VERIFICATION=true
SKIP_SMS_VERIFICATION=true

# ==============================================
# PRODUCTION OVERRIDES
# ==============================================
# Uncomment and set these values in production
# NODE_ENV=production
# FRONTEND_URL=https://jambolush.com
# ENABLE_SWAGGER=false
# DEBUG_MODE=false
# LOG_SENSITIVE_DATA=false