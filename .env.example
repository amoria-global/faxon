# Environment Configuration
NODE_ENV=development
PORT=5000

# Frontend Configuration
FRONTEND_URL=http://localhost:3000

# Database Configuration
# Connect to Supabase via connection pooling
DATABASE_URL="postgresql://postgres.ftihjzudufdjjabnpaqv:Amoria@2025@aws-1-eu-north-1.pooler.supabase.com:6543/postgres?pgbouncer=true"

# Direct connection to the database. Used for migrations
DIRECT_URL="postgresql://postgres.ftihjzudufdjjabnpaqv:Amoria@2025@aws-1-eu-north-1.pooler.supabase.com:5432/postgres"


# Google OAuth Configuration
GOOGLE_CLIENT_ID=739960680632-g75378et3hgeu5qmukdqp8085369gh1t.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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
GOOGLE_REDIRECT_URI=http://localhost:3000/api/auth/google/callback

# Apple OAuth Configuration
APPLE_CLIENT_ID=com.jambolush.signin
APPLE_TEAM_ID=your-apple-team-id
APPLE_KEY_ID=your-apple-key-id
APPLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_APPLE_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----"
APPLE_REDIRECT_URI=http://localhost:3000/api/auth/apple/callback

# Email Configuration
FROM_EMAIL=noreply@jambolush.com
EMAIL_PROVIDER=smtp
# For SMTP
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=admin@amoriaglobal.com
SMTP_PASS=Amoria@2025

# For SendGrid
# SENDGRID_API_KEY=your-sendgrid-api-key

# For Gmail
# GMAIL_USER=your-gmail@gmail.com
# GMAIL_APP_PASSWORD=your-gmail-app-password

# Security Configuration
BCRYPT_ROUNDS=12
SESSION_TIMEOUT_MINUTES=60

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# File Upload Configuration
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp

# Logging Configuration
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true

# Redis Configuration (Optional - for session storage)
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-redis-password

# Third-party Services (Optional)
# SENTRY_DSN=your-sentry-dsn
# ANALYTICS_API_KEY=your-analytics-api-key

# Development Configuration
ENABLE_SWAGGER=true
ENABLE_CORS=true
CORS_ORIGIN=http://localhost:3001,http://localhost:3000,http://localhost:8080

# Production Configuration (Override in production)
# NODE_ENV=production
# FRONTEND_URL=https://jambolush.com
# DATABASE_URL=your-production-database-url
# ENABLE_SWAGGER=false
# JWT
JWT_SECRET="ec07c6277623b1a798f2876399765ae4d465451d94bd45de7913a7eee785e0f7f0d466ff4cbdf916243317795ce34c57c907e0db57b197050abaa861499852c6"
JWT_EXPIRES_IN="24h"


# ESCROW API CONFIGURATION (New Integration)
# ==============================================
ESCROW_BASE_URL="https://api.escrowpayments.com"
ESCROW_API_KEY="18152_NtW5ZJKKizke3tahVVDwFRrhhs1A1u0Jb4JNCSgMWzT0hAq6kfbJQ3Kjqt86nEe3"
ESCROW_SECRET_KEY="your-escrow-secret-key-here"
ESCROW_MERCHANT_ID="your-merchant-id-here"
ESCROW_ENVIRONMENT="sandbox"
ESCROW_CALLBACK_URL="https://jambolush.com/api/payments/callback/escrow"
ESCROW_WEBHOOK_SECRET="your-escrow-webhook-secret"

# --- ESCROW SPECIFIC SETTINGS ---
ESCROW_DEFAULT_CURRENCY="USD"
ESCROW_SUPPORTED_CURRENCIES="USD,RWF"
ESCROW_MAX_TRANSACTION_AMOUNT="30000000"
ESCROW_MIN_TRANSACTION_AMOUNT="1"
ESCROW_DEFAULT_DISPUTE_DEADLINE_DAYS="30"
ESCROW_MAX_HOLDING_DAYS="365"

# --- ESCROW FEE CONFIGURATION ---
ESCROW_DEPOSIT_FEE="2.5"           # 2.5% for escrow deposits
ESCROW_P2P_FEE="1.5"               # 1.5% for P2P escrow payments
ESCROW_DISPUTE_FEE="25"            # $25 USD dispute fee
ESCROW_EXPEDITED_FEE="10"          # $10 USD expedited release fee
ESCROW_CANCELLATION_FEE="5"        # $5 USD cancellation fee

# --- ESCROW RATE LIMITING ---
ESCROW_RATE_LIMIT_PER_MINUTE="10"
ESCROW_RATE_LIMIT_PER_HOUR="100"
ESCROW_MAX_CONCURRENT="50"

# ==============================================
# CURRENCY CONFIGURATION
# ==============================================
DEFAULT_CURRENCY="USD"
SUPPORTED_CURRENCIES="USD,RWF,KES"
EXCHANGE_RATE_API_KEY="your-exchange-rate-api-key"

# ==============================================
# WEBHOOK SECURITY
# ==============================================
WEBHOOK_IP_WHITELIST="192.168.1.1,10.0.0.1"
ESCROW_WEBHOOK_IP_WHITELIST="192.168.1.1,10.0.0.1"

# ==============================================
# RATE LIMITING
# ==============================================
RATE_LIMIT_WINDOW_MS="900000"           # 15 minutes
RATE_LIMIT_MAX_REQUESTS="100"
ESCROW_RATE_LIMIT_WINDOW_MS="900000"    # 15 minutes
ESCROW_RATE_LIMIT_MAX_REQUESTS="25"

# ==============================================
# NOTIFICATION SERVICES
# ==============================================

# --- SMS CONFIGURATION ---
SMS_PROVIDER="twilio"
SMS_ACCOUNT_SID="your-twilio-account-sid"
SMS_AUTH_TOKEN="your-twilio-auth-token"
SMS_FROM_NUMBER="+1234567890"

# --- PUSH NOTIFICATION CONFIGURATION ---
FCM_SERVER_KEY="your-fcm-server-key"
APNS_KEY_ID="your-apns-key-id"
APNS_TEAM_ID="your-apns-team-id"

# ==============================================
# FILE UPLOAD CONFIGURATION
# ==============================================
MAX_FILE_SIZE="10485760"                                    # 10MB
ALLOWED_MIME_TYPES="image/jpeg,image/png,image/gif,application/pdf,text/plain"
UPLOAD_PATH="./uploads"
CLOUD_PROVIDER="local"                                      # local, aws, gcp, azure

# --- AWS S3 CONFIGURATION (if using AWS) ---
AWS_ACCESS_KEY_ID="your-aws-access-key-id"
AWS_SECRET_ACCESS_KEY="your-aws-secret-access-key"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="your-s3-bucket-name"

# ==============================================
# BACKGROUND JOBS (Redis Configuration)
# ==============================================
REDIS_URL="redis://localhost:6379"
ENABLE_ESCROW_JOBS="true"
JOB_CONCURRENCY="5"

# --- JOB SCHEDULES (Cron format) ---
AUTO_RELEASE_CHECK_SCHEDULE="0 */10 * * * *"        # Every 10 minutes
DISPUTE_DEADLINE_CHECK_SCHEDULE="0 0 */6 * * *"     # Every 6 hours
ESCROW_EXPIRY_CHECK_SCHEDULE="0 0 0 * * *"          # Daily at midnight
NOTIFICATION_RETRY_SCHEDULE="0 */5 * * * *"         # Every 5 minutes

# ==============================================
# ANALYTICS AND MONITORING
# ==============================================
ENABLE_ESCROW_ANALYTICS="true"
ANALYTICS_RETENTION_DAYS="90"
GOOGLE_ANALYTICS_ID="GA-XXXXXXXXX"
MIXPANEL_TOKEN="your-mixpanel-token"
SENTRY_DSN="your-sentry-dsn"

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
LOG_LEVEL="info"
ENABLE_ESCROW_LOGS="true"
ENABLE_PAYMENT_LOGS="true"
LOG_WEBHOOKS="true"
LOG_SENSITIVE_DATA="false"                           # Set to true only in development

# ==============================================
# FEATURE FLAGS
# ==============================================
ENABLE_ESCROW_PAYMENTS="true"
ENABLE_P2P_ESCROW="true"
ENABLE_ESCROW_TEMPLATES="false"                      # Coming soon
ENABLE_BULK_ESCROW="false"                           # Coming soon
ENABLE_ESCROW_ANALYTICS="true"
ENABLE_SMART_CONTRACTS="false"                       # Coming soon
ENABLE_MULTI_CURRENCY="true"
ENABLE_MOBILE_APP="false"

# ==============================================
# API CONFIGURATION
# ==============================================
API_DEPRECATION_NOTICE="false"
MAINTENANCE_MODE="false"

# ==============================================
# DEVELOPMENT ONLY
# ==============================================
# These should only be set in development environment
DEBUG_MODE="true"
MOCK_EXTERNAL_APIS="false"
SKIP_EMAIL_VERIFICATION="true"
SKIP_SMS_VERIFICATION="true"
# NEXT_PUBLIC_API_ENDPOINT_URL=https://backend.jambolush.com/api